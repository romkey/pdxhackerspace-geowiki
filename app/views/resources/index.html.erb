<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center gap-2">
      <h1 class="mb-0">Resources</h1>
      <%= link_to feed_resources_path(format: :rss), class: "btn btn-sm btn-outline-warning", title: "RSS Feed" do %>
        <i class="bi bi-rss"></i>
      <% end %>
    </div>
    <% if current_user&.admin? %>
      <%= link_to "New Resource", new_resource_path, class: "btn btn-primary" %>
    <% end %>
  </div>

  <ul class="nav nav-tabs mb-4" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab">
        All <span class="badge bg-secondary"><%= @resources.count %></span>
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="internal-tab" data-bs-toggle="tab" data-bs-target="#internal" type="button" role="tab">
        Internal <span class="badge bg-primary"><%= @internal_resources.count %></span>
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="external-tab" data-bs-toggle="tab" data-bs-target="#external" type="button" role="tab">
        External <span class="badge bg-success"><%= @external_resources.count %></span>
      </button>
    </li>
  </ul>

  <div class="tab-content">
    <div class="tab-pane fade show active" id="all" role="tabpanel">
      <%= render partial: "resources_table", locals: { resources: @resources } %>
    </div>
    <div class="tab-pane fade" id="internal" role="tabpanel">
      <%= render partial: "resources_table", locals: { resources: @internal_resources } %>
    </div>
    <div class="tab-pane fade" id="external" role="tabpanel">
      <%= render partial: "resources_table", locals: { resources: @external_resources } %>
    </div>
  </div>
</div>

